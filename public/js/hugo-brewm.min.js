function addEvent(e,t,n){return e?.attachEvent?e.attachEvent("on"+t,n):e?.addEventListener(t,n,!1)}const getElement=e=>document.getElementById(e),getElements=e=>document.querySelectorAll(e);function recalcLogotypeWidth(){const e=getElement("logotype"),t=getElement("logotype__text");e?.setAttribute("width",`${t.getBoundingClientRect().width}px`)}function adaptViewport(){if(document.fonts.ready.then(()=>{recalcLogotypeWidth()}),window.innerWidth<640){{getElement("has-search")?.setAttribute("open","open"),getElement("has-search")?.removeAttribute("name"),getElement("has-more-menu")?.setAttribute("open","open");let t=getElement("slide-1");if(t){function e(){let e=getElement("to-top");document.body.scrollTop>100||document.documentElement.scrollTop>100?e.classList.remove("to-content-top"):e.classList.add("to-content-top")}e(),addEvent(window,"scroll",e)}}}else getElement("top-nav")?.setAttribute("open","open"),addEvent(visualViewport,"resize",adaptViewport)}addEvent(window,"DOMContentLoaded",adaptViewport);const collapseParentNode=getElements(".js-cpn"),collapseGrandParentNode=getElements(".js-cgpn"),detailsElements=getElements("details.js-details");collapseParentNode.forEach(e=>{const t=()=>e.parentNode?.removeAttribute("open");addEvent(e,"click",t)}),collapseGrandParentNode.forEach(e=>{const t=()=>e.parentNode?.parentNode?.removeAttribute("open");addEvent(e,"click",t)}),window.innerWidth>640&&detailsElements.forEach(e=>{const t=t=>{const n=e.getAttribute("name");n&&getElements(`details.js-details[name="${n}"]`).forEach(t=>{t!==e&&t.hasAttribute("open")&&t.removeAttribute("open")})};addEvent(e,"click",t)});const date=new Date;function formatDate(e){return new Date(e).toLocaleString("en-US",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!1,formatMatcher:"basic"}).replace(",","").replace(/(\d+)\/(\d+)\/(\d+)/,"$3-$1-$2")}function toISOString(e){return new Date(e).toISOString()}const bodySty=document.body,htmlSty=document.documentElement.style,a11ySty=document.createElement("style");a11ySty.textContent=`
body.focus>header,body.focus>main>header,body.focus #contentinfo,body.focus #discussion-starter,body.focus #main-footer,body.focus #background-footer{display:none;}body.focus>footer{position:unset;}body.focus #dwclock{opacity:.1;}#has-a11y{margin-right:auto;}#has-a11y-summary{padding:.6ex 1ex;font-weight:550;}#has-a11y-summary::before{font-family:'base-ui';font-weight:400;content:'\\e900';}#has-a11y[open] #a11y{--anm:expand 99ms forwards;--tso:bottom;}#a11y{display:flex;position:fixed;bottom:calc(1rem + var(--vfoot));flex-direction:column;margin:0;border:var(--border);border-radius:1ex;background:var(--bg);padding:1rem;max-height:calc(100vh - var(--vhead) - var(--vfoot) - 2rem);overflow-y:auto;gap:var(--medskip);}#optimizeSR{order:6;}#setFontSize{order:3;}#setBaselineStretch{display:none;order:4;}main#page + footer #setBaselineStretch,main#page + footer #useBionRead{display:block;}#setOpenDyslexic{order:5;}#a11y input[type=checkbox],#a11y input[type=radio],#bionReadSwitch,#defocusAuxElement{position:absolute;top:-100vh;}#a11y select,#a11y input[type=range],#setColorScheme label,#setOpenDyslexic,button{cursor:pointer;}label.range{display:flex;flex-direction:row-reverse;}label.range>input{flex:1;accent-color:var(--ac);}label.range>output{width:4rem;text-align:center;color:var(--ac);font:700 var(--large) var(--sf),sans-serif;}#setColorScheme{display:flex;flex-direction:row;align-items:center;order:1;margin-bottom:1ex;}#lightSwitch + label{display:flex;flex-direction:column-reverse;align-items:center;border-radius:.5ex;padding:1ex;min-width:4rem;gap:1ex;}#lightSwitch + label:hover,#lightSwitch:focus + label,#setContrast input:hover + label{background:var(--g18s);color:var(--ac);}#lightSwitch + label::before{--ray-size:calc(var(--size) * -.4);--offset-orthogonal:calc(var(--size) * .65);--offset-diagonal:calc(var(--size) * .45);--tsf:scale(.75);--size:1.414em;display:block;outline:none;border-radius:999px;box-shadow:inset 0 0 0 var(--size),calc(var(--offset-orthogonal) * -1) 0 0 var(--ray-size),var(--offset-orthogonal) 0 0 var(--ray-size),0 calc(var(--offset-orthogonal) * -1) 0 var(--ray-size),0 var(--offset-orthogonal) 0 var(--ray-size),calc(var(--offset-diagonal) * -1) calc(var(--offset-diagonal) * -1) 0 var(--ray-size),var(--offset-diagonal) var(--offset-diagonal) 0 var(--ray-size),calc(var(--offset-diagonal) * -1) var(--offset-diagonal) 0 var(--ray-size),var(--offset-diagonal) calc(var(--offset-diagonal) * -1) 0 var(--ray-size);width:var(--size);height:var(--size);color:#ffaa00;content:'';}#lightSwitch:checked + label::before{--tsf:scale(1);box-shadow:inset calc(var(--size) * .33) calc(var(--size) * -.25) 0;}#lightSwitch + label::after{color:var(--fg);font-size:inherit;font-weight:550;}#setContrast{display:flex;position:relative;flex:1;justify-content:center;margin:0 0 0 1ex;border:none;border-left:var(--bound);padding:2em 0 0 1ex;}#setContrast legend{position:absolute;top:.2em;}#setContrast>div{display:flex;justify-content:space-around;padding:2pt;width:100%;gap:2pt;}#setContrast label{--tst:99ms;border-radius:1rem;padding:1pt 5pt;font-size:.84em!important;}#setContrast input:checked + label{background:var(--fg);color:var(--bg);box-shadow:var(--box-shadow);}#setContrast input + label::before{font-family:'base-ui';content:'\\e904\\a0';}#setContrast input:checked + label::before{content:'\\e903\\a0';}#setColorPalette{align-items:baseline;order:2;}#setColorPalette>*,#setOpenDyslexic>*{padding:1ex 0;}#colorPalette{flex:1;margin-left:.5ex;border:unset;border-radius:1rem;background:none;padding:.5ex 1.25ex;color:var(--fg);font:inherit!important;}#baselineStretchState::after{font-size:.8em;content:'Ã—';}#fontSizeState::after{font-size:.8em;content:'pt';}input.toggle + label{display:flex;position:relative;padding-right:3rem!important;align-items:center;font-weight:bold;}input.toggle:focus + label::after{background:var(--ac);}input.toggle + label::before,input.toggle + label::after{position:absolute;right:0;border-radius:2rem;box-shadow:var(--box-shadow-inset);background:#80808080;width:2.4rem;height:.8rem;content:"";}input.toggle + label::after{--tst:.5s ease-out;right:1.2rem;border:1pt solid #80808008;box-shadow:var(--box-shadow);background:#fff;width:1.2rem;height:1.2rem;}input.toggle:checked + label::after{right:0;}input.toggle:checked + label::before{opacity:.8;background:var(--ac);}#a11y-menu{display:inline-flex;align-items:center;order:7;margin:0;padding:0;width:100%;gap:1ex;}#a11y-menu>button{display:inline-flex;flex-direction:column;align-items:center;border:unset;}#a11y-menu>.has-aria-label{background:unset;color:var(--fg);}#a11y-menu>.has-aria-label::before{margin:auto;padding:.25rem .5rem;}#a11y-menu .has-aria-label:after{font-size:.7em;}#resetButton::before{font-family:'base-ui';content:'\\e90f';}#closeButton::before{font-family:'base-ui';content:'\\e913';}#bionReadButton,#saveButton{flex:1;margin-left:auto;cursor:pointer;}b.k{vertical-align:baseline;letter-spacing:var(--bion);color:var(--off);font-weight:400!important;-webkit-text-stroke:var(--bion) var(--off);font-synthesis:weight;}#useBionRead{display:none;margin:auto;letter-spacing:.1em;font-size:var(--footnotesize);}legend,.has-aria-label-top:before,#setColorPalette>label,input + label>span{font-weight:550;}#setContrast input + label>span{font-weight:400;}#bionReadButton>span{font-weight:400;text-transform:uppercase;}#noLocalStorage{order:7;margin:auto;border-top:var(--bound);padding-top:1rem;max-width:20rem;}#focusMode{position:fixed;bottom:calc(var(--vfoot) + 1rem);padding:3pt 6pt;display:flex;}#focusModeButton{opacity:.7;position:relative;}label:hover .t,label:focus .t{position:unset;visibility:visible;margin-left:2rem;}input:checked + #focusModeButton{opacity:.5;}#setContrast input:checked:focus + label,#OpenDyslexic:checked + label #OpenDyslexicState,#saveButton:hover,#saveButton:focus,#bionReadSwitch:hover + label,#bionReadSwitch:focus + label,#bionReadSwitch:active + label,#bionReadSwitch:checked + label{background:var(--ac);}#has-a11y[open]>#has-a11y-summary,#lightSwitch:hover + label span::after,#lightSwitch:focus + label span::after,#a11y-menu>.has-aria-label:focus,#a11y-menu>.has-aria-label:hover{color:var(--ac);}body.sr-user{--rm:monospace;--sf:monospace;--tt:monospace;}#to-top .t,#has-search>summary.srm--a::before,menu.srm--a>*::before{display:none;}menu.srm--a .srt,.share.srm--a .srt{padding:1ex;margin:2pt;}#print-button::before{font-family:'base-ui';content:'\\e90c';}#copyPermalink::before{font-family:base-ui;content:'\\e905';}#back::before{width:2rem;}#back{position:relative;top:3pt;float:left;padding:0;}.srm--a + #back::before{content:unset;}menu.srm--a + #back{padding:6pt;}#has-search>summary.srm--a,#has-more-menu>summary.srm--a{width:unset;padding:0 5pt;}#to-top{background:none;}menu.srm--a>*,#to-top.srm--a{width:unset;font-size:1rem;line-height:1;}img[data-src],.srs[data-style]{border:var(--bound);}@media (max-width:640px){#has-a11y>summary>span{display:none}}
body.deuteranopia{--y6a:#d17991;--w8u:#3e8620;--s8i:#ff727b;--n8e:#6f7eb5;--m4i:#265245;--y4i:#d61906;--f8a:#8671b2;--s4n:#008ae7;--d3u:#6d4835;--r6a:#4d4a17;--y4a:#0b3460;--k8i:#fe8500;--y6i:#0070a0;--o5a:#bf2d37;--c3u:#635169;--s5o:#2d5a7b;--s5e:#61317b;--y7i:#00b0fb;--i3i:#ff1202;--t9u:#014c2d;}body.protanopia{--y6a:#b095c0;--w8u:#616f00;--s8i:#eeb0df;--n8e:#6d78ae;--m4i:#35432c;--y4i:#9a596f;--f8a:#7777bd;--s4n:#024b82;--d3u:#645649;--r6a:#524c18;--y4a:#122448;--k8i:#efb440;--y6i:#013c4c;--o5a:#8d5d85;--c3u:#5a5774;--s5o:#364a63;--s5e:#494093;--y7i:#086078;--i3i:#e87aab;--t9u:#012500;}body.tritanopia{--y6a:#b98a9c;--w8u:#235e1a;--s8i:#e58795;--n8e:#958fb3;--m4i:#304a3f;--y4i:#7e2521;--f8a:#a288b5;--s4n:#5196cd;--d3u:#54463b;--r6a:#303b19;--y4a:#343d5a;--k8i:#83630c;--y6i:#30728c;--o5a:#873d4a;--c3u:#695b6c;--s5o:#506175;--s5e:#764e82;--y7i:#4bb0dc;--i3i:#c02a2b;--t9u:#00361e;}body.monochrome{--y6a:var(--fg);--w8u:var(--fg);--s8i:var(--fg);--n8e:var(--fg);--m4i:var(--fg);--y4i:var(--fg);--f8a:var(--fg);--s4n:var(--fg);--d3u:var(--fg);--r6a:var(--fg);--y4a:var(--fg);--k8i:var(--fg);--y6i:var(--fg);--o5a:var(--fg);--c3u:var(--fg);--s5o:var(--fg);--s5e:var(--fg);--y7i:var(--fg);--i3i:var(--fg);--t9u:var(--fg);}@media (prefers-contrast:less){body.monochrome{--y6a:#8f8f8f;--w8u:#6f6f6f;--s8i:#9c9c9c;--n8e:#808080;--m4i:#474747;--y4i:#3e3e3e;--f8a:#7c7c7c;--s4n:#686868;--d3u:#515151;--r6a:#484848;--y4a:#2f2f2f;--k8i:#989898;--y6i:#535353;--o5a:#4e4e4e;--c3u:#575757;--s5o:#535353;--s5e:#414141;--y7i:#818181;--i3i:#565656;--t9u:#313131}}
`,document.head.appendChild(a11ySty);const a11y=getElement("has-a11y");a11y.classList.remove("hide"),getElement("background-footer").classList.remove("hide");const{i18nAccessibility,i18nOptimizesr,i18nOptimizesrdesc,i18nColorsettings,i18nDarkmode,i18nLight,i18nDark,i18nContrast,i18nLesscontrast,i18nDefaultcontrast,i18nMorecontrast,i18nColorpalette,i18nDefaultcolor,i18nDeuteranopia,i18nProtanopia,i18nTritanopia,i18nMonochrome,i18nFontsize,i18nBaselinestretch,i18nOpendyslexic,i18nMenucontrols,i18nSave,i18nReset,i18nClose,i18nBionread,i18nFocusmode,i18nNolocalstorage}=a11y.dataset;a11y.innerHTML=`
<summary id="has-a11y-summary" accesskey="a" aria-keyshortcuts="a">
  <span>&nbsp;${i18nAccessibility}</span>
  <kbd class="key" aria-hidden="true" data-key="a"></kbd>
</summary>
<!-- a11y console -->
<fieldset id="a11y" role="region" aria-label="${i18nAccessibility}">
  <!-- optimizeSR -->
  <div id="optimizeSR">
    <input id="useSR" class="toggle" type="checkbox" onclick="useSreenReader()">
    <label for="useSR" aria-description="${i18nOptimizesrdesc}">${i18nOptimizesr}</label>
  </div>
  <!-- setColorPalette -->
  <div id="setColorPalette" class="sri" style="display:none;">
    <label for="colorPalette">${i18nColorpalette}</label>
    <select id="colorPalette" name="colorPalette" oninput="setColorPalette()" aria-label="${i18nColorpalette}">
      <option value="defaultColor">${i18nDefaultcolor}</option>
      <option value="deuteranopia">${i18nDeuteranopia}</option>
      <option value="protanopia">${i18nProtanopia}</option>
      <option value="tritanopia">${i18nTritanopia}</option>
      <option value="monochrome">${i18nMonochrome}</option>
    </select>
  </div>
  <!-- setFontSize -->
  <div id="setFontSize" class="has-aria-label-top sri" aria-label="${i18nFontsize}">
    <label class="range" for="fontSize" aria-label="${i18nFontsize}">
      <input id="fontSize" type="range" min="8" max="12" step="0.5" oninput="setFontSize()">
      <output id="fontSizeState" for="fontSize" role="status" aria-live="polite">10</output>
    </label>
  </div>
  <!-- setBaselineStretch -->
  <div id="setBaselineStretch" class="has-aria-label-top sri" aria-label="${i18nBaselinestretch}">
    <label class="range" for="baselineStretch" aria-label="${i18nBaselinestretch}">
      <input id="baselineStretch" type="range" min="0.8" max="1.2" step="0.05" oninput="setStretch()">
      <output id="baselineStretchState" for="baselineStretch" role="status" aria-live="polite">1</output>
    </label>
  </div>
  <!-- setOpenDyslexic -->
  <div id="setOpenDyslexic" class="sri">
    <input id="OpenDyslexic" class="toggle" type="checkbox" onclick="useOpenDyslexic()">
    <label for="OpenDyslexic" aria-label="${i18nOpendyslexic}">
      ${i18nOpendyslexic}
    </label>
  </div>
  <!-- a11y-menu -->
  <menu id="a11y-menu" class="hide" role="toolbar" aria-label="${i18nMenucontrols}"></menu>
  <!-- noLocalStorage -->
  <center id="noLocalStorage" class="hide" role="alert">${i18nNolocalstorage}</center>
</fieldset>
<div class="screening" role="presentation" aria-hidden="true" onclick="closeA11yConsole()"></div>
`;const closeA11yConsole=()=>a11y.removeAttribute("open");function useSreenReader(){useSR.checked?(bodySty.classList.add("sr-user"),getElements(".srt").forEach(e=>{e.classList.remove("t")}),getElements(".sri").forEach(e=>{e.classList.add("hide")}),getElements(".srm").forEach(e=>{e.classList.add("srm--a")}),getElements(".sr0").forEach(e=>{e.setAttribute("data-tabindex",e.tabIndex),e.removeAttribute("tabindex")}),getElements("img").forEach(e=>{e.setAttribute("data-src",e.src),e.removeAttribute("src")}),getElements(".srs").forEach(e=>{e.setAttribute("data-style",e.style),e.removeAttribute("style")})):(bodySty.classList.remove("sr-user"),getElements(".srt").forEach(e=>{e.classList.add("t")}),getElements(".sri").forEach(e=>{e.classList.remove("hide")}),getElements(".srm").forEach(e=>{e.classList.remove("srm--a")}),getElements(".sr0").forEach(e=>{e.tabIndex=e.dataset.tabIndex,e.removeAttribute("data-tabindex")}),getElements("img").forEach(e=>{e.src=e.dataset.src,e.removeAttribute("data-src")}),getElements(".srs").forEach(e=>{e.style=e.dataset.style,e.removeAttribute("data-style")}))}const matchMediaColor=()=>{window.matchMedia("(prefers-color-scheme: dark)").matches,window.matchMedia("(prefers-contrast: more)").matches||window.matchMedia("(prefers-contrast: less)").matches};function setColor(){const n={light:{default:"--off: #000; --fg: var(--fg-light); --mid: var(--midtone); --ac: var(--ac-light); --bg: var(--bg-light);",less:"--off: #000; --fg: var(--fg-light-less); --mid: var(--midtone-less); --ac: var(--ac-light-less); --bg: var(--bg-light-less);",more:"--off: #000; --fg: var(--fg-light-more); --mid: var(--midtone-more); --ac: var(--ac-light-more); --bg: var(--bg-light-more); --border: 1pt solid var(--fg); --bound: var(--border);"},dark:{default:"--off: #fff; --fg: var(--fg-dark); --mid: var(--midtone); --ac: var(--ac-dark); --bg: var(--bg-dark);",less:"--off: #fff; --fg: var(--fg-dark-less); --mid: var(--midtone-less); --ac: var(--ac-dark-less); --bg: var(--bg-dark-less);",more:"--off: #fff; --fg: var(--fg-dark-more); --mid: var(--midtone-more); --ac: var(--ac-dark-more); --bg: var(--bg-dark-more); --border: 1pt solid var(--fg); --bound: var(--border);"}};lightSwitchIndicator.setAttribute("aria-description",i18nDark);const s="dark",e=lessContrast.checked?"less":moreContrast.checked?"more":"default";bodySty.setAttribute("style",n[s][e]),bodySty.dataset.contrast=e;const t=getElement("logomark--dark");if(t){const e=getElement("logomark");e.style.display="none",t.style.display="inline-block"}const o=getElements("#background-header, #background-footer");o.forEach(e=>{moreContrast.checked?e.classList.add("has-border"):e.classList.remove("has-border")})}if(addEvent(document,"DOMContentLoaded",()=>{setTimeout(()=>htmlSty.setProperty("--flashGuard","1s ease-in 0.1s"),99)}),isPage=getElement("page"),isPage){getElement("focusMode").innerHTML=`
    <input id="defocusAuxElement" accesskey="d" type="checkbox" onclick="focusMode()" aria-keyshortcuts="d" aria-label="${i18nFocusmode}">
    <label id="focusModeButton" for="defocusAuxElement" aria-label="${i18nFocusmode}">
        â¦¿ <span class="t" role="tooltip">${i18nFocusmode}</span>
    </label>
    `,defocusAuxElement.checked=!1;function focusMode(){defocusAuxElement.checked?bodySty.classList.add("focus"):bodySty.classList.remove("focus")}hasChroma=getElements(".chroma"),hasChroma&&getElement("setColorPalette").setAttribute("style","display:flex;")}addEvent(document,"keydown",e=>{e.key==="Tab"&&bodySty.classList.add("keydown"),e.key==="Escape"&&bodySty.classList.remove("keydown")});function setColorPalette(){bodySty.className=colorPalette.value}function useOpenDyslexic(){OpenDyslexic.checked?(htmlSty.setProperty("--rm","OpenDyslexic"),htmlSty.setProperty("--sf","OpenDyslexic"),htmlSty.setProperty("--tt","OpenDyslexicMono")):(htmlSty.removeProperty("--rm"),htmlSty.removeProperty("--sf"),htmlSty.removeProperty("--tt")),setTimeout(()=>recalcLogotypeWidth(),1e3)}function setFontSize(){fontSizeState.value=fontSize.value,htmlSty.setProperty("--fontScale",fontSize.value/10)}function setStretch(){baselineStretchState.value=baselineStretch.value,htmlSty.setProperty("--baselineStretch",baselineStretch.value)}function hasLocalStorage(){try{return localStorage.is="enable",localStorage.removeItem("is"),!0}catch{return defaultContrast.checked=!0,getElement("noLocalStorage").className="",getElement("noDOMGiscus")?.removeAttribute("class"),!1}}if(hasLocalStorage()){getElement("a11y-menu").className="",getElement("a11y-menu").innerHTML=`
        <button id="saveButton" class="reverse" onclick="saveA11y()">${i18nSave}</button>
        <button id="resetButton" class="has-aria-label" onclick="resetA11y()" aria-label="${i18nReset}"></button>
        <button id="closeButton" class="has-aria-label" onclick="closeA11yConsole()" aria-label="${i18nClose}"></button>
    `;function resetA11y(){localStorage.clear(),matchMediaColor(),colorPalette.reset,fontSize.value="",baselineStretch.value="",OpenDyslexic.checked=!1,useSR.checked=!1,setTimeout(()=>window.location.reload(),100)}function saveA11y(){setTimeout(()=>closeA11yConsole(),618),localStorage.scheme=lightSwitch.checked?"light":"dark",defaultContrast.checked&&(localStorage.contrast="default"),lessContrast.checked&&(localStorage.contrast="less"),moreContrast.checked&&(localStorage.contrast="more"),localStorage.colorPalette=colorPalette.value,localStorage.font=OpenDyslexic.checked?"OpenDyslexic":"",localStorage.useSR=useSR.checked?"true":"false",localStorage.fontSize=fontSize.value,localStorage.stretchSize=baselineStretch.value}!localStorage.getItem("scheme")&&!localStorage.getItem("contrast")?matchMediaColor():(lightSwitch.checked=localStorage.scheme!=="dark",localStorage.contrast==="more"?moreContrast.checked=!0:localStorage.contrast==="less"?lessContrast.checked=!0:defaultContrast.checked=!0,setColor()),localStorage.getItem("colorPalette")&&(colorPalette.value=localStorage.colorPalette,setColorPalette()),localStorage.font==="OpenDyslexic"&&(OpenDyslexic.setAttribute("checked","checked"),useOpenDyslexic()),localStorage.useSR==="true"&&(useSR.setAttribute("checked","checked"),useSreenReader()),localStorage.getItem("fontSize")&&(fontSize.value=localStorage.fontSize,setFontSize()),localStorage.getItem("stretchSize")&&(baselineStretch.value=localStorage.stretchSize,setStretch())}getElement("useBionRead").innerHTML=`
<input id="bionReadSwitch" accesskey="b" type="checkbox" onclick="bionRead()" aria-keyshortcuts="b" aria-label="${a11y.dataset.i18nBionread}">
<label id="bionReadButton" for="bionReadSwitch">
    <span><strong>Bion</strong>Read</span>
    <kbd class="key" aria-hidden="true" data-key="b"></kbd>
</label>
`,bionReadSwitch.checked=!1;function bionRead(){const t=getElement("content"),e=getElement("bionReadSnapshot");if(!t||!e){console.error("Required elements not found");return}if(bionReadSwitch.checked){e.innerHTML=t.innerHTML;const n=getElements("[data-bionRead-safe]");n.forEach(e=>{const t=e.querySelectorAll("h1, h2, h3, h4, h5, p, a, li, blockquote");t.forEach(e=>{const t=e.innerText.split(" "),n=t.map(e=>{const t=e.length;if(t===1)return`<b class=k>${e}</b>`;const n=Math.ceil(t/2);return e.split("").map((e,t)=>t<n?`<b class=k>${e}</b>`:e).join("")});e.innerHTML=n.join(" ")})}),htmlSty.setProperty("--fg",lightSwitch.checked?"#333":"#ccc"),htmlSty.setProperty("--bion","0.028em")}else t.innerHTML=e.innerHTML,e.innerHTML="",htmlSty.removeProperty("--fg"),htmlSty.removeProperty("--bion"),setColor()}const menu=getElement("menu");if(menu){const{i18nBack:t,i18nPrint:n,i18nCopy:e,i18nCopying:o}=menu.dataset;menu.innerHTML+=`
    <button id="print-button" onclick="window.print()" aria-label="${n}">
        <span class="t srt" role="tooltip">${n}</span>
    </button>
`;const s=getElement("has-back");if(s&&(s.innerHTML=`
        <button id="back" type="button" onclick="history.back();" aria-label="${t}">
            <span class="t srt" role="tooltip">${t}</span>
        </button>
    `),location.protocol==="https:"){navigator.share&&getElement("navigatorShare")?.setAttribute("href","javascript:navigator.share({title: document.title, url: window.location.href})"),menu.innerHTML+=`
    <button id="copyPermalink" onclick="navigator.clipboard.writeText(window.location.href)" aria-label="${e}">
        <span id="copy" class="t srt" role="tooltip">${e}</span>
        <span id="isCopying" style="display: none;">${o}</span>
        <span id="copyText" style="display: none;">${e}</span>
    </button>
    `;const t=getElement("copyPermalink");addEvent(t,"click",()=>{getElement("copy").innerText=getElement("isCopying").innerText,setTimeout(()=>getElement("copy").innerText=getElement("copyText").innerText,2e3)})}}if(typeof mastodonInstance!="undefined"){getElement("has-mastodon").className="active";const e=()=>{mastodonTitle.disabled=!0,mastodonPermalink.disabled=!0,mastodonText.disabled=!1,mastodon?.setAttribute("action",`${mastodonInstance.value}/share`)};if(addEvent(mastodonInstance,"input",e),typeof QRCode!="undefined"){getElement("colophon").removeAttribute("style"),qr?.appendChild(QRCode({msg:window.location.href,ecl:"M",pal:["#000","#fff"],pad:2,dim:96}));const e=getElement("time-stamp");e.innerHTML=formatDate(date),e?.setAttribute("datetime",date.toISOString())}}const hour=date.getHours();if(hour>6&&hour<21)getElements(".grain, #dwclock").forEach(e=>{e?.remove()});else{getElement("background-body").innerHTML=`
    <div id="dwclock">
        <div id="min"><div class="hand"></div></div>
        <div id="hour"><div class="hand"></div></div>
    </div>`;const t=getElements(".background, #background-body");t.forEach(e=>{e.innerHTML+=`<div class="grain"></div>`});const e=document.createElement("style");e.textContent=`
     .grain{position:absolute;mix-blend-mode:difference;background-image:url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' xmlns:svg='http://www.w3.org/2000/svg' version='1.1' width='256' height='256' viewBox='0 0 256 256'><defs><filter id='grain' x='0' y='0' width='1' height='1' filterUnits='objectBoundingBox' primitiveUnits='userSpaceOnUse' color-interpolation-filters='linearRGB'><feTurbulence type='turbulence' baseFrequency='.7' numOctaves='7' seed='42' stitchTiles='stitch' x='-1%' y='-1%' width='102%' height='102%' result='turbulence' id='feTurbulence2' /><feSpecularLighting surfaceScale='7' specularConstant='3' specularExponent='10' lighting-color='%23ffffff' x='-1%' y='-1%' width='102%' height='102%' in='turbulence' result='specularLighting' id='feSpecularLighting'><feDistantLight azimuth='3' elevation='163' id='feDistantLight' /></feSpecularLighting></filter></defs><rect width='320' height='320' fill='%23000000' id='blackbody' x='-32' y='-32' opacity='.03' /><rect width='320' height='320' fill='%23ffffff' filter='url(%23grain)' id='noise' x='-32' y='-32' opacity='.03' /></svg>");width:100%;height:100%}#dwclock{opacity:.33;margin:auto;width:100vmin;height:100vmin;filter:blur(2vmin) saturate(2)}#hour,#min{position:absolute;width:100vmin;height:100vmin}.hand{--min:40vmin;--hour:28vmin;--tsf:translateY(calc(50vmin - var(--min)));margin:0 auto auto;border-right:2vmin solid transparent;border-bottom:var(--min) solid #60f;border-left:2vmin solid transparent;border-radius:2vmin;background-image:linear-gradient(0deg,var(--bg) 0%,#60f 100%);width:3vmin;height:var(--min)}#hour .hand{--tsf:translateY(calc(50vmin - var(--hour)));border-bottom:var(--hour) solid #20f;background-image:linear-gradient(0deg,var(--bg) 0%,#20f 100%);height:var(--hour)}
    `,document.head.appendChild(e);let n;function updateClock(){const e=date.getMinutes(),t=date.getSeconds(),n=e/60*360+t/60*6,s=hour/12*360+e/60*30,o=["transform","webkitTransform","mozTransform","msTransform","oTransform"],i={"#min":n,"#hour":s};Object.entries(i).forEach(([e,t])=>{const n=document.querySelector(e);o.forEach(e=>{n.style[e]=`rotate(${t}deg)`})})}updateClock(),n=setInterval(updateClock,1e4)}function expandRH(){getElements('[name="redaction-history"]')?.forEach(e=>{e.removeAttribute("name"),e.removeAttribute("class"),e.setAttribute("open","open")})}window.matchMedia("print").matches?expandRH():addEvent(window,"beforeprint",expandRH)